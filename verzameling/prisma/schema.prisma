// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model test {
  id    String @id @default(cuid())
  name  String
  age   Int
  score Float
}

/////////////////////////////////////////////

model crystallen {
  id   String @id @default(uuid())
  naam String
  prijs Float
  kleur String
  gewicht String
  transperant Boolean
  zodiac String
  herkomst String
  inhoud Float

  items item[] //koppeling met items (bijde kanten)
}

model gebruikers {
  id           String       @id @default(uuid())
  naam         String
  password     String
  role         String       @default("USER")
  bestellingen bestelling[] //koppeling met bestelling (bijde kanten)
}

model item {
  id      String     @id @default(uuid())
  crystal crystallen @relation(fields: [crystallenId], references: [id]) //zegt: crystal heeft een relatie met de tabel crystallen. En crystalID staat gelijk aan id uit crystallen
  count   Int        @default(1)

  crystallenId          String
  bestelling            bestelling? @relation(fields: [bestellingOrdernummer], references: [ordernummer])
  bestellingOrdernummer Int? //hoeft niet ingevult te worden, want het wordt al ingevult bij de relatie hierboven (bestellingOrdernummer)
}

model bestelling {
  ordernummer Int    @id @default(autoincrement())
  products    item[] //koppeling met item bestelling

  gebruikers   gebruikers? @relation(fields: [gebruikersId], references: [id])
  gebruikersId String?
}